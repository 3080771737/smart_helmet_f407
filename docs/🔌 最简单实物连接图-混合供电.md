# 🔌 STM32智能安全帽 - 最简单实物连接图

> **核心思路**: STM32开发板 + 电源模块混合供电，不需要面包板！
> **关键点**: 小电流模块用STM32供电，大电流模块用电源模块供电
> **最重要**: 必须共地（STM32 GND ↔ 电源模块 GND）

---

## 📐 **整体布局俯视图**

```
桌面布局（俯视）:

┌────────────────────────────────────────────────────────────────┐
│                         你的工作桌面                            │
│                                                                 │
│                                                                 │
│  区域1: 电源模块             区域2: STM32开发板                │
│  ┌──────────────────┐        ┌─────────────────────────┐      │
│  │  你的电源模块     │        │   STM32F407VET6         │      │
│  │  ┌────────────┐  │        │   开发板                │      │
│  │  │[红色开关]  │  │        │                         │      │
│  │  │[USB/DC输入]│  │        │   ┌───────────────┐    │      │
│  │  └────────────┘  │        │   │  STM32芯片    │    │      │
│  │                  │        │   └───────────────┘    │      │
│  │  ●●●●●●         │        │                         │      │
│  │  蓝色接线端子    │        │  [引脚排针]             │      │
│  │  3.3V 5V GND    │        │  3.3V 5V GND PA0 PA2... │      │
│  └──────────────────┘        └─────────────────────────┘      │
│        ↑                              ↑                        │
│        │                              │                        │
│     DC适配器                      USB线 + STLink             │
│                                                                 │
│                                                                 │
│  区域3: 传感器模块区                                            │
│  ┌────────────────────────────────────────────────────────┐   │
│  │                                                         │   │
│  │  [MAX30102]    [GPS模块]    [ESP01S]                   │   │
│  │   心率血氧      定位模块     WiFi模块                   │   │
│  │                                                         │   │
│  │  [MQ2传感器]   [ASR-PRO]    [USB转TTL]                 │   │
│  │   烟雾检测      语音模块     串口调试                   │   │
│  │                                                         │   │
│  └────────────────────────────────────────────────────────┘   │
│                                                                 │
│  区域4: 电脑                                                   │
│  [💻 电脑]  ← USB连接 → USB转TTL                              │
│                                                                 │
└────────────────────────────────────────────────────────────────┘
```

---

## 🎨 **详细连接示意图（3D视角）**

### **视图1: 电源连接全景图**

```
                    DC 9V/12V适配器
                         │
                         ↓
        ┌────────────────────────────┐
        │    你的电源模块              │
        │    ┌──────────────────┐    │
        │    │  [红色开关-ON]   │    │
        │    │  ┌────┐          │    │
        │    │  │USB │ (可选)   │    │
        │    │  └────┘          │    │
        │    │  [绿色DC端子]    │    │
        │    └──────────────────┘    │
        │                            │
        │    左侧蓝色接线端子:        │
        │    ● ● ● ● ● ●           │
        │    1 2 3 4 5 6            │
        │    │ │ │ │ │ │            │
        │    3 3 G 5 5 G            │
        │    . . N V V N            │
        │    3 3 D   D              │
        │    V V                    │
        └────┬─┬─┬─┬─┬─┬────────────┘
             │ │ │ │ │ │
             │ │ │ │ │ └────────┐
             │ │ │ │ └────────┐ │
             │ │ └──────────┐ │ │
             │ │            │ │ │
             │ │            │ │ │    USB供电
             │ │            │ │ │       ↓
             │ │            │ │ │  ┌──────────────────────┐
             │ │            │ │ │  │  STM32F407开发板      │
             │ │            │ │ │  │                      │
             │ │            │ │ │  │  引脚排针:           │
             │ │            │ │ │  │  ●●●●●●●●●●●●●    │
             │ │            │ │ │  │  3 5 G P P P P P ... │
             │ │            │ │ │  │  . V N A A A A B ... │
             │ │            │ │ │  │  3   D 0 2 3 9 1 ... │
             │ │            │ │ │  │  V                   │
             │ │            │ │ │  └──┬─┬─┬─┬─┬─┬─┬─┬──────┘
             │ │            │ │ │     │ │ │ │ │ │ │ │
             │ │            │ │ │     │ │ │ │ │ │ │ │
    ESP01S供电(3.3V)        │ │ │     │ │ │ │ │ │ │ │
    ├VCC─红线1──────────────┘ │ │     │ │ │ │ │ │ │ │
    ├EN──红线2────────────────┘ │     │ │ │ │ │ │ │ │
    ├RST─红线3──────────────────┘     │ │ │ │ │ │ │ │
    └GND─黑线────────────────────→共地线连接! │ │ │ │
                                      ↓ │ │ │ │ │ │ │
                                      ● │ │ │ │ │ │ │
    ASR-PRO供电(5V)                     │ │ │ │ │ │ │
    ├VCC─红线──────────────────────────┘ │ │ │ │ │ │
    └GND─黑线────────────────────────────┘ │ │ │ │ │
                                            │ │ │ │ │
    MAX30102供电(3.3V)                      │ │ │ │ │
    ├VCC─红线────────────────────────────────┘ │ │ │ │
    └GND─黑线──────────────────────────────────┘ │ │ │
                                                  │ │ │
    GPS供电(3.3V)                                 │ │ │
    ├VCC─红线──────────────────────────────────────┘ │ │
    └GND─黑线────────────────────────────────────────┘ │
                                                        │
    MQ2供电(5V)                                         │
    ├VCC─红线────────────────────────────────────────────┘
    └GND─黑线──────────────────────────────────────────────┐
                                                            │
    USB转TTL供电                                            │
    ├VCC─不接(USB自带)                                      │
    └GND─黑线────────────────────────────────────────────────┘
```

---

## 🔌 **模块级详细连接图**

### **模块1: MAX30102 心率血氧传感器**

```
MAX30102模块                      STM32开发板
┌─────────────┐                   ┌──────────────┐
│   ●红光●    │                   │              │
│             │                   │   [芯片]     │
│  引脚排列:  │                   │              │
│  ● VCC      │──红线(公对母)────→│ 3.3V引脚 ●  │
│  ● GND      │──黑线(公对母)────→│ GND引脚  ●  │
│  ● SCL      │──黄线(公对公)────→│ PB14引脚 ●  │
│  ● SDA      │──绿线(公对公)────→│ PB15引脚 ●  │
│  ● INT(不接)│                   │              │
└─────────────┘                   └──────────────┘

连线类型:
  VCC/GND: 公对母杜邦线(一头插MAX30102，一头插STM32排针孔)
  SCL/SDA: 公对公杜邦线(两头都插排针孔)

接线步骤:
  1️⃣ 红线: MAX30102的VCC → STM32板子标有"3.3V"或"3V3"的引脚
  2️⃣ 黑线: MAX30102的GND → STM32板子标有"GND"或"G"的引脚
  3️⃣ 黄线: MAX30102的SCL → STM32的PB14引脚
  4️⃣ 绿线: MAX30102的SDA → STM32的PB15引脚
```

---

### **模块2: MQ2 烟雾传感器**

```
MQ2模块                           STM32开发板
┌─────────────┐                   ┌──────────────┐
│   ●●传感器  │                   │              │
│  (金属网罩) │                   │              │
│             │                   │              │
│  引脚排列:  │                   │              │
│  ● VCC      │──红线(公对母)────→│ 5V引脚 ●    │
│  ● GND      │──黑线(公对母)────→│ GND引脚 ●   │
│  ● AO       │──白线(公对公)────→│ PA0引脚 ●   │
│  ● DO(不接) │                   │              │
│             │                   │              │
│  LED1 ●电源 │                   │              │
│  LED2 ●报警 │                   │              │
└─────────────┘                   └──────────────┘

⚠️ 注意: MQ2需要5V供电！不是3.3V！

接线步骤:
  1️⃣ 红线: MQ2的VCC → STM32板子标有"5V"的引脚
  2️⃣ 黑线: MQ2的GND → STM32板子标有"GND"的引脚
  3️⃣ 白线: MQ2的AO → STM32的PA0引脚

上电测试:
  ✓ MQ2的LED1(电源指示灯)应该亮起
  ✓ 传感器会微微发热(正常现象)
```

---

### **模块3: ATGM336H GPS模块**

```
GPS模块                           STM32开发板
┌─────────────┐                   ┌──────────────┐
│ ┌─────────┐ │                   │              │
│ │ 天线陶瓷 │ │                   │              │
│ │ (朝上放) │ │                   │              │
│ └─────────┘ │                   │              │
│             │                   │              │
│  引脚排列:  │                   │              │
│  ● VCC      │──红线(公对母)────→│ 3.3V引脚 ●  │
│  ● GND      │──黑线(公对母)────→│ GND引脚  ●  │
│  ● TX       │──橙线(公对公)────→│ PA3引脚  ●  │ ← USART2_RX
│  ● RX       │──棕线(公对公)────→│ PA2引脚  ●  │ ← USART2_TX
│  ● PPS(不接)│                   │              │
│             │                   │              │
│  LED ● 闪烁 │                   │              │
└─────────────┘                   └──────────────┘
      ↑                                   ↑
   GPS发送                            GPS接收

⚠️ 注意TX/RX交叉连接:
  GPS的TX(发送) → STM32的PA3(接收)
  GPS的RX(接收) → STM32的PA2(发送)

接线步骤:
  1️⃣ 红线: GPS的VCC → STM32的3.3V引脚
  2️⃣ 黑线: GPS的GND → STM32的GND引脚
  3️⃣ 橙线: GPS的TX → STM32的PA3引脚(标注RX2或USART2_RX)
  4️⃣ 棕线: GPS的RX → STM32的PA2引脚(标注TX2或USART2_TX)

记忆技巧:
  "发送到接收，接收到发送"
  TX → RX, RX → TX
```

---

### **模块4: ESP01S WiFi模块（⚠️大电流！）**

```
ESP01S模块(8脚)                   电源模块 + STM32
┌─────────────┐
│  ●  ●  ●  ●│ ← 排针朝上          电源模块蓝色端子        STM32开发板
│  1  2  3  4│                    ┌──────────┐           ┌──────────┐
│  ●  ●  ●  ●│                    │ ● ● ● ● │           │          │
│  5  6  7  8│                    │ 1 2 3 4 │           │          │
└─────────────┘                   └─┬─┬─┬─┬─┘           │          │
 LED ●蓝灯                          3 3 G 5             │          │
                                    . . N V             │          │
引脚定义:                           3 3 D               │          │
1-GND  2-GPIO2  3-GPIO0  4-RX      V V                 │          │
5-TX   6-EN     7-RST    8-VCC     │ │ │ │             │          │
                                   │ │ │ │             │          │
供电连接(⚠️从电源模块取电):          │ │ │ │             │          │
8-VCC  ──红线1─────────────────────┘ │ │ │             │          │
6-EN   ──红线2───────────────────────┘ │ │             │          │
7-RST  ──红线3─────────────────────────┘ │             │          │
1-GND  ──黑线───────────────────────────┴→连到电源模块GND │
                                         并且连到STM32 GND! ●
                                         (共地线)            │
信号连接(⚠️交叉，连STM32):                                  │
5-TX   ──蓝线(公对公)──────────────────────────────────→PB11引脚 ●
4-RX   ──紫线(公对公)──────────────────────────────────→PB10引脚 ●
2,3    (不接)

接线步骤:
  1️⃣ 红线×3: ESP01S的VCC/EN/RST → 电源模块蓝色端子孔位1(3.3V)
  2️⃣ 黑线: ESP01S的GND → 电源模块蓝色端子孔位3(GND)
  3️⃣ 共地线: 电源模块GND → STM32的GND引脚(重要!)
  4️⃣ 蓝线: ESP01S的TX → STM32的PB11引脚
  5️⃣ 紫线: ESP01S的RX → STM32的PB10引脚

⚠️ 为什么ESP01S用电源模块供电?
  因为ESP01S峰值电流300mA，从STM32取电可能不稳定！
  独立供电更可靠！
```

---

### **模块5: ASR-PRO 语音模块**

```
ASR-PRO模块                       电源模块 + STM32
┌─────────────┐
│  🔊扬声器   │                   电源模块蓝色端子        STM32开发板
│             │                   ┌──────────┐           ┌──────────┐
│ [语音芯片]  │                   │ ● ● ● ● │           │          │
│             │                   │ 1 2 3 4 │           │          │
│  引脚排列:  │                   └─┬─┬─┬─┬─┘           │          │
│  ● VCC      │──红线─────────────→│ │ │ 5             │          │
│  ● GND      │──黑线─────────────→│ │ G V             │          │
│  ● TX       │──粉线(公对公)───────┼─┼─┼─┴→连STM32 GND  │          │
│  ● RX       │──灰线(公对公)───────┼─┼─┼──────────────→PA10引脚 ●
└─────────────┘                   │ │ └──────────────→PA9引脚  ●
                                  │ └→共地线连到STM32 GND ●
                                  └→5V供电

供电连接(从电源模块取电):
VCC ──红线→ 电源模块蓝色端子孔位4(5V)
GND ──黑线→ 电源模块蓝色端子孔位6(GND)
        └→并且连到STM32 GND(共地)

信号连接(⚠️交叉，连STM32):
TX  ──粉线→ STM32的PA10引脚
RX  ──灰线→ STM32的PA9引脚

接线步骤:
  1️⃣ 红线: ASR-PRO的VCC → 电源模块蓝色端子孔位4或5(5V)
  2️⃣ 黑线: ASR-PRO的GND → 电源模块蓝色端子孔位6(GND)
  3️⃣ 共地线: 电源模块GND → STM32的GND引脚
  4️⃣ 粉线: ASR-PRO的TX → STM32的PA10引脚
  5️⃣ 灰线: ASR-PRO的RX → STM32的PA9引脚

上电测试:
  ✓ 扬声器应该有"滴"一声提示音
```

---

### **模块6: USB转TTL 调试模块**

```
USB转TTL模块                      STM32开发板
┌─────────────┐                   ┌──────────────┐
│  ┌────┐     │                   │              │
│  │USB │     │──USB线───→ 💻电脑 │              │
│  └────┘     │                   │              │
│ [CH340芯片] │                   │              │
│             │                   │              │
│  引脚排列:  │                   │              │
│  ● VCC(不接)│                   │              │
│  ● GND      │──黑线(公对母)────→│ GND引脚  ●  │
│  ● TX       │──────────────────→│ PA10引脚 ●  │ ← 与ASR-PRO共用
│  ● RX       │──────────────────→│ PA9引脚  ●  │ ← 与ASR-PRO共用
│             │                   │              │
│  LED ● TX闪 │                   │              │
│  LED ● RX闪 │                   │              │
└─────────────┘                   └──────────────┘

⚠️ 注意: USB转TTL和ASR-PRO共用UART1!

接线步骤:
  1️⃣ VCC不接(USB转TTL自带USB供电)
  2️⃣ 黑线: USB转TTL的GND → STM32的GND引脚
  3️⃣ USB转TTL的TX → STM32的PA10引脚(与ASR-PRO TX共用)
  4️⃣ USB转TTL的RX → STM32的PA9引脚(与ASR-PRO RX共用)
  5️⃣ USB线连接电脑

用途:
  - 打开串口助手(115200波特率)
  - 查看STM32的printf输出
  - 调试程序运行状态
```

---

## 🔥 **最重要：共地线连接！**

```
⚠️⚠️⚠️ 超级重要！必须做！⚠️⚠️⚠️

为什么要共地？
  STM32开发板有自己的GND (USB供电)
  电源模块有自己的GND (DC适配器供电)

  如果两个GND不连在一起:
    → 信号线的"0V"基准不一样
    → UART通信会乱码或不工作
    → 传感器数据异常

怎么共地？
  用一根杜邦线连接:
    STM32板子的任意GND引脚
      ↕ (一根黑色杜邦线)
    电源模块蓝色端子的GND孔(孔位3或6)

实物连接示意:
┌──────────────┐        黑色杜邦线       ┌──────────────┐
│ STM32开发板   │       (公对母)         │ 电源模块      │
│              │    ●──────────────●    │              │
│  GND引脚 ●   │                        │ GND孔(3或6)  │
└──────────────┘                        └──────────────┘
                  这根线就是"共地线"！

检查方法:
  用万用表蜂鸣档测量:
    STM32的GND引脚 ←→ 电源模块的GND孔
    应该"滴"一声(导通)
```

---

## 📊 **完整接线汇总表**

### **电源连接汇总**

| 模块 | VCC电源来源 | VCC取电点 | GND取电点 | 备注 |
|------|------------|-----------|----------|------|
| **MAX30102** | STM32板载3.3V | STM32的3.3V引脚 | STM32的GND引脚 | 50mA小电流 |
| **GPS** | STM32板载3.3V | STM32的3.3V引脚 | STM32的GND引脚 | 40mA小电流 |
| **MQ2** | STM32板载5V | STM32的5V引脚 | STM32的GND引脚 | 150mA中电流 |
| **ESP01S** | 电源模块3.3V | 电源模块蓝色端子孔位1 | 电源模块蓝色端子孔位3 | ⚠️300mA大电流！ |
| **ASR-PRO** | 电源模块5V | 电源模块蓝色端子孔位4 | 电源模块蓝色端子孔位6 | 200mA中大电流 |
| **USB转TTL** | USB自带 | 不接 | STM32的GND引脚 | USB供电 |
| **共地线** | - | - | STM32 GND ↔ 电源模块GND | ⚠️必须连接！ |

### **信号线连接汇总**

| 模块 | 信号1 | 信号2 | 通信方式 | 备注 |
|------|-------|-------|---------|------|
| **MAX30102** | SCL→PB14 | SDA→PB15 | 软件I2C | - |
| **MQ2** | AO→PA0 | - | ADC采样 | 模拟信号 |
| **GPS** | TX→PA3 | RX→PA2 | UART2 | ⚠️交叉连接 |
| **ESP01S** | TX→PB11 | RX→PB10 | UART3 | ⚠️交叉连接，EN/RST接3.3V |
| **ASR-PRO** | TX→PA10 | RX→PA9 | UART1 | ⚠️交叉连接 |
| **USB转TTL** | TX→PA10 | RX→PA9 | UART1 | 与ASR-PRO共用 |

---

## 🎨 **物理布局建议**

### **推荐桌面布局**

```
俯视图（左边放电源，右边放STM32）:

┌─────────────────────────────────────────────────┐
│                                                  │
│   [电源模块]          传感器区          [STM32板] │
│   左上角位置      中间摆放传感器      右上角位置  │
│       ↓               ↓                  ↓       │
│   ┌────────┐   ┌─────────────┐   ┌───────────┐ │
│   │DC输入  │   │ MAX  GPS    │   │  PA0...   │ │
│   │[开关]  │   │             │   │           │ │
│   │蓝端子●●│   │ MQ2  ESP01S │   │  PB14...  │ │
│   └────────┘   │             │   │           │ │
│       ↑        │ ASR  USB-TTL│   │  [STM32]  │ │
│   DC适配器     └─────────────┘   └───────────┘ │
│                                       ↑         │
│                                   USB+STLink    │
│                                                  │
│   [💻电脑] ← USB连接USB转TTL和STM32             │
│                                                  │
└─────────────────────────────────────────────────┘

优点:
  ✓ 电源线集中在左边
  ✓ 信号线从中间飞到右边
  ✓ 线路清晰不混乱
```

### **线缆整理建议**

```
颜色规划:
  🔴 红色 → 所有VCC (3.3V/5V)
  ⚫ 黑色 → 所有GND
  🟡 黄色 → I2C SCL
  🟢 绿色 → I2C SDA
  🟠 橙色 → UART TX (从模块出来)
  🟤 棕色 → UART RX (到模块去)
  ⚪ 白色 → 模拟信号(ADC)
  🔵 蓝色/紫色 → 其他数字信号

整理技巧:
  1. 用扎带把同方向的线扎在一起
  2. 电源线(红黑)走一边，信号线走另一边
  3. 用标签纸标记每根线的功能
  4. 留出一定松弛度，不要绷太紧
```

---

## ✅ **接线完成检查清单**

### **第一步：断电检查(上电前必做！)**

```
电源系统:
□ DC适配器已连接到电源模块
□ 电源模块红色开关已关闭(先别开)
□ USB线已连接STM32开发板
□ STLink/JLink已连接STM32

供电连接:
□ MAX30102 VCC接STM32的3.3V ✓
□ GPS VCC接STM32的3.3V ✓
□ MQ2 VCC接STM32的5V ✓
□ ESP01S VCC/EN/RST接电源模块3.3V ✓
□ ASR-PRO VCC接电源模块5V ✓

GND连接(非常重要):
□ MAX30102 GND接STM32的GND ✓
□ GPS GND接STM32的GND ✓
□ MQ2 GND接STM32的GND ✓
□ ESP01S GND接电源模块GND ✓
□ ASR-PRO GND接电源模块GND ✓
□ USB转TTL GND接STM32的GND ✓
□ ⚠️ 共地线: 电源模块GND ↔ STM32 GND 已连接 ✓

信号线:
□ MAX30102 SCL→PB14, SDA→PB15 ✓
□ MQ2 AO→PA0 ✓
□ GPS TX→PA3, RX→PA2 (交叉) ✓
□ ESP01S TX→PB11, RX→PB10 (交叉) ✓
□ ASR-PRO TX→PA10, RX→PA9 (交叉) ✓
□ USB转TTL TX→PA10, RX→PA9 ✓

万用表测试(断电状态):
□ STM32 3.3V ↔ GND 不导通(电阻很大) ✓
□ STM32 5V ↔ GND 不导通(电阻很大) ✓
□ 电源模块3.3V ↔ GND 不导通 ✓
□ 电源模块5V ↔ GND 不导通 ✓
□ STM32 GND ↔ 电源模块GND 导通(共地成功) ✓
```

### **第二步：上电测试**

```
上电顺序:
1️⃣ 先给STM32开发板上电(插USB)
2️⃣ 再给电源模块上电(打开红色开关)

观察现象:
□ 电源模块LED亮起 ✓
□ STM32开发板LED亮起 ✓
□ MQ2传感器LED1(电源)亮起 ✓
□ MQ2传感器微微发热(正常) ✓
□ GPS模块LED开始闪烁 ✓
□ ESP01S蓝色LED闪烁 ✓
□ 没有任何模块冒烟/异味 ✓

万用表测试(上电状态):
□ STM32的3.3V引脚 = 3.3V (±0.1V) ✓
□ STM32的5V引脚 = 5.0V (±0.2V) ✓
□ 电源模块3.3V孔 = 3.3V (±0.1V) ✓
□ 电源模块5V孔 = 5.0V (±0.2V) ✓
□ MAX30102 VCC引脚 = 3.3V ✓
□ MQ2 VCC引脚 = 5.0V ✓
□ ESP01S VCC引脚 = 3.3V ✓
□ ASR-PRO VCC引脚 = 5.0V ✓

串口测试:
□ 打开串口助手,115200波特率 ✓
□ 选择正确的COM口 ✓
□ 按STM32复位键 ✓
□ 看到系统启动信息 ✓
```

### **第三步：功能测试**

```
MAX30102测试:
□ 手指放在传感器上,红光亮起 ✓
□ 保持10秒,串口显示心率数据 ✓

MQ2测试:
□ 正常环境串口显示50-100ppm ✓
□ 用打火机(不点燃)靠近,数值上升 ✓

GPS测试:
□ 串口显示"GPS: Waiting for fix..." ✓
□ 移到窗边,等待1-3分钟 ✓
□ 串口显示经纬度坐标 ✓

WiFi测试(需要先修改配置):
□ 串口显示"ESP01S: Init Success" ✓
□ 显示"WiFi Connected"(如果配置了) ✓

语音测试:
□ ASR-PRO上电有"滴"一声 ✓
```

---

## ⚠️ **常见问题排查**

### **问题1: 上电后模块没反应**

```
可能原因:
1. 供电线接错了
   → 检查: VCC是否接到对应电压(3.3V/5V)
   → 检查: GND是否接好

2. 电源开关没打开
   → 检查: 电源模块红色开关是否ON
   → 检查: STM32的USB是否插好

3. 杜邦线松动
   → 重新插拔所有杜邦线,确保插紧

解决方法:
  用万用表测量每个模块VCC引脚的电压
  应该等于该模块需要的电压(3.3V或5V)
```

### **问题2: 串口没有输出或乱码**

```
可能原因:
1. 没有共地
   → 检查: 电源模块GND和STM32 GND是否连接
   → 用万用表测试: 两个GND是否导通

2. TX/RX接反了
   → 检查: TX应该接到RX, RX应该接到TX

3. 波特率不对
   → 设置: 串口助手波特率 = 115200

4. COM口选错了
   → 重新选择: 设备管理器查看正确的COM口

解决方法:
  1. 用万用表蜂鸣档测量STM32 GND ↔ 电源模块GND
  2. 重新检查TX/RX连接
  3. 设置正确的波特率和COM口
```

### **问题3: ESP01S反复重启**

```
可能原因:
1. 供电不足
   → ESP01S峰值300mA,需要足够的电流
   → 检查: 电源模块是否正常工作
   → 检查: DC适配器功率是否足够(建议1A)

2. EN或RST没有拉高
   → 检查: ESP01S的EN和RST引脚是否接到3.3V

3. 电源线接触不良
   → 重新插拔ESP01S的VCC接线
   → 拧紧电源模块蓝色端子螺丝

解决方法:
  1. 用万用表测量ESP01S的VCC引脚 = 3.3V
  2. 用万用表测量ESP01S的EN引脚 = 3.3V
  3. 用万用表测量ESP01S的RST引脚 = 3.3V
  4. 考虑在ESP01S的VCC和GND之间焊接一个100μF电容
```

### **问题4: GPS一直没有定位**

```
原因:
  GPS需要接收卫星信号,室内无法定位

解决方法:
  1. 将GPS模块移到窗边或户外
  2. 天线朝上放置
  3. 首次定位需要1-3分钟(冷启动)
  4. 观察GPS LED:
     - 1秒1次闪烁 = 搜星中
     - 快速闪烁或常亮 = 已定位
```

### **问题5: 线路太乱,搞不清楚**

```
解决方法:
  1. 用标签纸标记每根线:
     - 写上"MAX30102 VCC"
     - 写上"GPS TX→PA3"

  2. 用不同颜色的杜邦线:
     - 红色 = 电源
     - 黑色 = GND
     - 其他颜色 = 信号

  3. 用扎带整理:
     - 把去同一个模块的线扎在一起

  4. 拍照记录:
     - 用手机拍下正确的接线
     - 万一线掉了可以对照
```

---

## 🎉 **完成！**

如果以上检查都通过了，恭喜你！**硬件连接全部完成！**

### **你现在拥有:**

✅ **完整的硬件连接** - 所有传感器已正确连接
✅ **稳定的供电系统** - 混合供电,各取所需
✅ **清晰的接线图** - 随时可以查阅

### **下一步:**

1. **功能测试** - 逐个测试每个传感器
2. **数据验证** - 确认数据准确性
3. **WiFi配置** - 修改WiFi账号密码(esp01s.h)
4. **准备演示** - 为面试做准备

---

**📅 文档创建**: 2025-12-03
**📧 问题反馈**: 有问题随时告诉我！
**🎯 关键要点**: 混合供电 + 必须共地！

---
